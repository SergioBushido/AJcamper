---
import { specs } from "~/data/specs";
const { t } = Astro.props as { t: any };
---

<section id="specs" class="specs-section" aria-label={t.specs_title}>
  <div class="container">
    <div class="specs-header">
      <h2>{t.specs_title}</h2>
      <p class="specs-subtitle">
        Fiat Enaire 2022 - Autocaravana de 4 plazas con todas las comodidades
      </p>
    </div>

    <div class="accordion-container">
      <!-- Informaci√≥n b√°sica -->
      <div class="accordion-item">
        <button class="accordion-header" aria-expanded="true">
          <span class="accordion-icon">üöê</span>
          <span class="accordion-title">{t.specs_general}</span>
          <span class="accordion-toggle">+</span>
        </button>
        <div class="accordion-content" style="display: block;">
          <div class="specs-grid">
            <div class="spec-item">
              <span class="spec-label">{t.specs_model}</span>
              <span class="spec-value">{specs.model}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_year}</span>
              <span class="spec-value">{specs.year}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_seats}</span>
              <span class="spec-value">{specs.seats}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_beds}</span>
              <span class="spec-value">{specs.beds}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_isofix}</span>
              <span class="spec-value">{specs.isofix}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Dimensiones y Motor -->
      <div class="accordion-item">
        <button class="accordion-header">
          <span class="accordion-icon">üìè</span>
          <span class="accordion-title">{t.specs_dimensions}</span>
          <span class="accordion-toggle">+</span>
        </button>
        <div class="accordion-content">
          <div class="specs-grid">
            <div class="spec-item">
              <span class="spec-label">{t.specs_length}</span>
              <span class="spec-value">{specs.length}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_width}</span>
              <span class="spec-value">{specs.width}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_height}</span>
              <span class="spec-value">{specs.height}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_weight}</span>
              <span class="spec-value">{specs.weight}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_fuel}</span>
              <span class="spec-value">{specs.fuel}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_gearbox}</span>
              <span class="spec-value">{specs.gearbox}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_consumption}</span>
              <span class="spec-value">{specs.consumption}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_tank}</span>
              <span class="spec-value">{specs.fuelTank}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Equipamientos de Conducci√≥n -->
      <div class="accordion-item">
        <button class="accordion-header">
          <span class="accordion-icon">üöó</span>
          <span class="accordion-title">{t.specs_driving}</span>
          <span class="accordion-toggle">+</span>
        </button>
        <div class="accordion-content">
          <div class="equipment-grid">
            {
              specs.driving.map((item) => (
                <div class="equipment-item">
                  <span class="equipment-icon">‚úì</span>
                  <span class="equipment-text">{item}</span>
                </div>
              ))
            }
          </div>
        </div>
      </div>

      <!-- Vida a Bordo -->
      <div class="accordion-item">
        <button class="accordion-header">
          <span class="accordion-icon">üè†</span>
          <span class="accordion-title">{t.specs_living}</span>
          <span class="accordion-toggle">+</span>
        </button>
        <div class="accordion-content">
          <div class="equipment-grid">
            {
              specs.living.map((item) => (
                <div class="equipment-item">
                  <span class="equipment-icon">‚úì</span>
                  <span class="equipment-text">{item}</span>
                </div>
              ))
            }
          </div>
        </div>
      </div>

      <!-- Cocina y Ba√±o -->
      <div class="accordion-item">
        <button class="accordion-header">
          <span class="accordion-icon">üç≥</span>
          <span class="accordion-title">{t.specs_kitchen}</span>
          <span class="accordion-toggle">+</span>
        </button>
        <div class="accordion-content">
          <div class="equipment-section">
            <h3 class="equipment-section-title">{t.specs_kitchen_title}</h3>
            <div class="equipment-grid">
              {
                specs.kitchen.map((item) => (
                  <div class="equipment-item">
                    <span class="equipment-icon">‚úì</span>
                    <span class="equipment-text">{item}</span>
                  </div>
                ))
              }
            </div>
          </div>
          <div class="equipment-section">
            <h3 class="equipment-section-title">{t.specs_bathroom_title}</h3>
            <div class="equipment-grid">
              {
                specs.bathroom.map((item) => (
                  <div class="equipment-item">
                    <span class="equipment-icon">‚úì</span>
                    <span class="equipment-text">{item}</span>
                  </div>
                ))
              }
            </div>
          </div>
        </div>
      </div>

      <!-- Autonom√≠a y Energ√≠a -->
      <div class="accordion-item">
        <button class="accordion-header">
          <span class="accordion-icon">‚ö°</span>
          <span class="accordion-title">{t.specs_autonomy}</span>
          <span class="accordion-toggle">+</span>
        </button>
        <div class="accordion-content">
          <div class="specs-grid">
            <div class="spec-item">
              <span class="spec-label">{t.specs_heating}</span>
              <span class="spec-value">{specs.autonomy.heating}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_outlets}</span>
              <span class="spec-value">{specs.autonomy.outlets}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_cooking}</span>
              <span class="spec-value">{specs.autonomy.cooking}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_solar}</span>
              <span class="spec-value">{specs.autonomy.solar}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">{t.specs_cable}</span>
              <span class="spec-value">{specs.autonomy.cable}</span>
            </div>
            <div class="spec-item highlight">
              <span class="spec-label">{t.specs_autonomy_days}</span>
              <span class="spec-value">{specs.autonomy.days}</span>
            </div>
          </div>
          <div class="equipment-section">
            <h3 class="equipment-section-title">{t.specs_exterior_title}</h3>
            <div class="equipment-grid">
              {
                specs.exterior.map((item) => (
                  <div class="equipment-item">
                    <span class="equipment-icon">‚úì</span>
                    <span class="equipment-text">{item}</span>
                  </div>
                ))
              }
            </div>
          </div>
        </div>
      </div>

      <!-- Camas -->
      <div class="accordion-item">
        <button class="accordion-header">
          <span class="accordion-icon">üõèÔ∏è</span>
          <span class="accordion-title">{t.specs_beds}</span>
          <span class="accordion-toggle">+</span>
        </button>
        <div class="accordion-content">
          <div class="beds-grid">
            <div class="bed-item">
              <div class="bed-number">1</div>
              <div class="bed-info">
                <span class="bed-name">{t.specs_bed_1}</span>
                <span class="bed-size">190 cm</span>
              </div>
            </div>
            <div class="bed-item">
              <div class="bed-number">2</div>
              <div class="bed-info">
                <span class="bed-name">{t.specs_bed_2}</span>
                <span class="bed-size">135x190 cm</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .specs-section {
    padding: 3rem 0;
    background: #f8fafc;
  }

  .specs-header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .specs-header h2 {
    font-size: clamp(1.8rem, 4vw, 2.5rem);
    font-weight: 800;
    color: #1e293b;
    margin: 0 0 0.5rem 0;
    letter-spacing: -0.02em;
  }

  .specs-subtitle {
    font-size: 1.1rem;
    color: var(--muted);
    margin: 0;
    font-weight: 500;
  }

  /* Accordion Styles */
  .accordion-container {
    max-width: 900px;
    margin: 0 auto;
  }

  .accordion-item {
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    margin-bottom: 1rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .accordion-item:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .accordion-header {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem 1.5rem;
    background: #f8fafc;
    border: none;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: 600;
    color: #1e293b;
    transition: all 0.3s ease;
    text-align: left;
  }

  .accordion-header:hover {
    background: #f1f5f9;
  }

  .accordion-header[aria-expanded="true"] {
    background: var(--brand);
    color: white;
  }

  .accordion-header[aria-expanded="true"] .accordion-toggle {
    transform: rotate(45deg);
  }

  .accordion-icon {
    font-size: 1.5rem;
    margin-right: 0.75rem;
  }

  .accordion-title {
    flex: 1;
    font-size: 1.1rem;
    font-weight: 600;
  }

  .accordion-toggle {
    font-size: 1.5rem;
    font-weight: 300;
    transition: transform 0.3s ease;
    color: var(--muted);
  }

  .accordion-header[aria-expanded="true"] .accordion-toggle {
    color: white;
  }

  .accordion-content {
    padding: 0;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .accordion-content[style*="display: block"] {
    max-height: none;
    padding: 1.5rem;
    overflow: visible;
  }

  .specs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 1rem;
  }

  .spec-item {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    padding: 1rem;
    background: #f8fafc;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
    transition: all 0.2s ease;
  }

  .spec-item:hover {
    background: #f1f5f9;
    border-color: var(--brand);
  }

  .spec-item.highlight {
    background: linear-gradient(135deg, #f0fdfa, #fef3c7);
    border-color: var(--brand);
  }

  .spec-label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .spec-value {
    font-size: 1rem;
    font-weight: 700;
    color: #1e293b;
  }

  .equipment-section {
    margin-bottom: 1.5rem;
  }

  .equipment-section:last-child {
    margin-bottom: 0;
  }

  .equipment-section-title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--brand-hover);
    margin: 0 0 1rem 0;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #e2e8f0;
  }

  .equipment-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 0.75rem;
  }

  .equipment-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: #f8fafc;
    border-radius: 6px;
    border: 1px solid #e2e8f0;
    transition: all 0.2s ease;
  }

  .equipment-item:hover {
    background: #f0fdfa;
    border-color: var(--brand);
    transform: translateX(2px);
  }

  .equipment-icon {
    color: var(--brand-hover);
    font-weight: 700;
    font-size: 1rem;
  }

  .equipment-text {
    font-size: 0.9rem;
    color: #1e293b;
    font-weight: 500;
  }

  .beds-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;
  }

  .bed-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem;
    background: #f8fafc;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
    transition: all 0.2s ease;
  }

  .bed-item:hover {
    background: #f0fdfa;
    border-color: var(--brand);
    transform: translateY(-2px);
  }

  .bed-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    background: var(--brand-hover);
    color: white;
    border-radius: 50%;
    font-weight: 700;
    font-size: 1rem;
  }

  .bed-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .bed-name {
    font-weight: 600;
    color: #1e293b;
    font-size: 1rem;
  }

  .bed-size {
    color: var(--muted);
    font-size: 0.85rem;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .specs-section {
      padding: 2rem 0;
    }

    .accordion-header {
      padding: 1rem 1.25rem;
      font-size: 1rem;
    }

    .accordion-content[style*="display: block"] {
      padding: 1.25rem;
      max-height: none;
      overflow: visible;
    }

    .specs-grid {
      grid-template-columns: 1fr;
    }

    .equipment-grid {
      grid-template-columns: 1fr;
    }

    .beds-grid {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 480px) {
    .accordion-header {
      padding: 0.875rem 1rem;
    }

    .accordion-content[style*="display: block"] {
      padding: 1rem;
      max-height: none;
      overflow: visible;
    }

    .accordion-title {
      font-size: 1rem;
    }

    .bed-item {
      padding: 1rem;
    }
  }
</style>

<script>
  // Accordion functionality
  document.addEventListener("DOMContentLoaded", function () {
    const accordionHeaders = document.querySelectorAll(".accordion-header");

    accordionHeaders.forEach((header) => {
      header.addEventListener("click", function (e) {
        const btn = e.currentTarget as HTMLElement;
        const isExpanded = btn.getAttribute("aria-expanded") === "true";
        const content = btn.nextElementSibling as HTMLElement;

        // Close all other accordions
        accordionHeaders.forEach((otherHeader) => {
          if (otherHeader !== btn) {
            otherHeader.setAttribute("aria-expanded", "false");
            const otherContent = otherHeader.nextElementSibling as HTMLElement;
            if (otherContent) {
              otherContent.style.maxHeight = "0";
              otherContent.style.padding = "0";
              otherContent.style.display = "none";
            }
          }
        });

        // Toggle current accordion
        if (isExpanded) {
          btn.setAttribute("aria-expanded", "false");
          if (content) {
            content.style.maxHeight = "0";
            content.style.padding = "0";
            content.style.display = "none";
          }
        } else {
          btn.setAttribute("aria-expanded", "true");
          if (content) {
            content.style.display = "block";
            content.style.maxHeight = "none";
            content.style.padding = "1.5rem";
          }
        }
      });
    });
  });
</script>
```
